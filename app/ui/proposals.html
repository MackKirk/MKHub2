<!doctype html>
<meta charset="utf-8">
<title>Proposals</title>
<link rel="stylesheet" href="/ui/styles.css">
<link rel="stylesheet" href="/ui/proposals.css">
<script src="/ui/app.js"></script>
<div id="sidebar"></div>
<div class="main">
  <h2>Create Proposal</h2>
  <div class="card">
    <form id="proposalForm" enctype="multipart/form-data">

      <h3>Company Info</h3>
      <div class="field"><label>Document Type</label><input type="text" name="cover_title" maxlength="22" required></div>
      <div class="field"><label>Order Number</label><input type="text" name="order_number" maxlength="10" required></div>
      <div class="field"><label>Company Name</label><input type="text" name="company_name" maxlength="50" required></div>
      <div class="field"><label>Company Address</label><input type="text" name="company_address" maxlength="50" required></div>
      <div class="field"><label>Date</label><input type="date" name="date" required></div>

      <h3>Project Details</h3>
      <div class="field"><label>Proposal Created For</label><input type="text" name="proposal_created_for" maxlength="42"></div>
      <div class="field"><label>Primary Contact Name</label><input type="text" name="primary_contact_name" maxlength="40"></div>
      <div class="field"><label>Primary Contact Phone</label><input type="text" name="primary_contact_phone" maxlength="15"></div>
      <div class="field"><label>Primary Contact Email</label><input type="email" name="primary_contact_email" maxlength="40"></div>
      <div class="field"><label>Type of Project</label><input type="text" name="type_of_project" maxlength="55"></div>
      <div class="field"><label>Other Notes</label><textarea name="other_notes" maxlength="260"></textarea></div>

      <h3>Images</h3>
      <div class="field"><label>Cover Image</label><input type="file" name="cover_image" accept="image/*"></div>
      <div class="field"><label>Page 2 Image</label><input type="file" name="page2_image" accept="image/*"></div>

      <h3>Project Sections</h3>
      <div id="sectionsContainer"></div>
      <button type="button" id="addSectionBtn">+ Add Section</button>

      <h3>Pricing</h3>
      <div class="field"><label>Bid Price</label><input type="number" step="0.01" name="bid_price" required></div>

      <div id="additionalCostsSection">
        <h4>Additional Costs</h4>
        <div id="costsContainer"></div>
        <button type="button" id="addCostBtn">+ Add Cost</button>
      </div>

      <h4>Total: <span id="calculatedTotal">$0.00</span></h4>

      <h3>Terms</h3>
      <div class="field"><label>Terms</label><textarea name="terms_text"></textarea></div>

      <button type="submit">Generate Proposal</button>
    </form>
  </div>
  <div id="downloadSection" class="card" style="display:none;">
    <h3>Proposal Generated</h3>
    <a id="downloadLink" href="#" download="ProjectProposal.pdf">Download PDF</a>
  </div>
</div>
<script src="/ui/proposals.js"></script>
<script>
MKHubUI.initSidebar('home');
</script>


