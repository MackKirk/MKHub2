<!doctype html>
<meta charset="utf-8">
<title>Password Reset</title>
<h2>Reset Password</h2>
<form onsubmit="resetpw(event)">
  <input id="token" placeholder="token" required />
  <input id="pw" type="password" placeholder="new password" required />
  <button>Reset</button>
  <a href="/ui/login.html">Back to Login</a>
</form>
<pre id="msg"></pre>
<script>
const qp = new URLSearchParams(location.search); document.getElementById('token').value = qp.get('token') || '';
async function resetpw(ev){ ev.preventDefault(); const t=document.getElementById('token').value; const pw=document.getElementById('pw').value; const r = await fetch('/auth/password/reset?token='+encodeURIComponent(t)+'&new_password='+encodeURIComponent(pw), { method:'POST' }); const txt = await r.text(); document.getElementById('msg').textContent = txt; }
</script>

